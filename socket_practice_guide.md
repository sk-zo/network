# ì†Œì¼“ í”„ë¡œê·¸ë˜ë° ì‹¤ìŠµ ê°€ì´ë“œ

## ğŸ“‹ ì‹¤ìŠµ íŒŒì¼ ëª©ë¡

1. **server.py** - ê¸°ë³¸ TCP ì—ì½” ì„œë²„ (ë‹¨ì¼ í´ë¼ì´ì–¸íŠ¸)
2. **client.py** - ê¸°ë³¸ TCP í´ë¼ì´ì–¸íŠ¸
3. **multi_client_server.py** - ë©€í‹° í´ë¼ì´ì–¸íŠ¸ TCP ì„œë²„ (threading ì‚¬ìš©)
4. **udp_server.py** - UDP ì—ì½” ì„œë²„
5. **udp_client.py** - UDP í´ë¼ì´ì–¸íŠ¸
6. **async_server.py** - ë¹„ë™ê¸° TCP ì„œë²„ (asyncio ì‚¬ìš©)
7. **socket_methods_example.py** - ì†Œì¼“ ë©”ì†Œë“œ ë° ì˜µì…˜ ì‹¤ìŠµ

## ğŸš€ ì‹¤ìŠµ ìˆœì„œ

### 1. ê¸°ë³¸ TCP í†µì‹  ì‹¤ìŠµ

#### ì„œë²„ ì‹¤í–‰:
```bash
python server.py
```

#### í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„):
```bash
python client.py
```

**ì‹¤ìŠµ ë‚´ìš©:**
- ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì„ ìˆ˜ë½í•˜ëŠ” ê³¼ì • ê´€ì°°
- ë©”ì‹œì§€ ì „ì†¡ ë° ì—ì½” ì‘ë‹µ í™•ì¸
- í•œ ë²ˆì— í•˜ë‚˜ì˜ í´ë¼ì´ì–¸íŠ¸ë§Œ ì²˜ë¦¬ë˜ëŠ” ê²ƒ í™•ì¸

### 2. ë©€í‹° í´ë¼ì´ì–¸íŠ¸ ì„œë²„ ì‹¤ìŠµ

#### ì„œë²„ ì‹¤í–‰:
```bash
python multi_client_server.py
```

#### ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰ (ê°ê° ìƒˆ í„°ë¯¸ë„):
```bash
python client.py
python client.py
python client.py
```

**ì‹¤ìŠµ ë‚´ìš©:**
- ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì‹œì— ì ‘ì† ê°€ëŠ¥í•œì§€ í™•ì¸
- ê° í´ë¼ì´ì–¸íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡ ê°€ëŠ¥í•œì§€ í…ŒìŠ¤íŠ¸
- ìŠ¤ë ˆë“œ ê¸°ë°˜ ë™ì‹œì„± ì²˜ë¦¬ ê´€ì°°

### 3. UDP í†µì‹  ì‹¤ìŠµ

#### UDP ì„œë²„ ì‹¤í–‰:
```bash
python udp_server.py
```

#### UDP í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„):
```bash
python udp_client.py
```

**ì‹¤ìŠµ ë‚´ìš©:**
- ì—°ê²° ì—†ëŠ” í†µì‹  ë°©ì‹ ì²´í—˜
- TCPì™€ UDPì˜ ì°¨ì´ì  ë¹„êµ
- ë°ì´í„°ê·¸ë¨ ê¸°ë°˜ í†µì‹  ì´í•´

### 4. ë¹„ë™ê¸° ì„œë²„ ì‹¤ìŠµ

#### ë¹„ë™ê¸° ì„œë²„ ì‹¤í–‰:
```bash
python async_server.py
```

#### í…ŒìŠ¤íŠ¸ ë°©ë²•:
1. **í…”ë„· ì‚¬ìš©:**
   ```bash
   telnet localhost 65434
   ```

2. **ê¸°ë³¸ í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš© (í¬íŠ¸ ë³€ê²½):**
   - client.pyì˜ PORTë¥¼ 65434ë¡œ ë³€ê²½í•˜ê³  ì‹¤í–‰

**ì‹¤ìŠµ ë‚´ìš©:**
- ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ ì²˜ë¦¬
- ë¹„ë™ê¸° I/O ì„±ëŠ¥ ë¹„êµ
- ì´ë²¤íŠ¸ ë£¨í”„ ê¸°ë°˜ ë™ì‹œì„± ì´í•´

### 5. ì†Œì¼“ ë©”ì†Œë“œ ì‹¤ìŠµ

#### ì‹¤í–‰:
```bash
python socket_methods_example.py
```

**ì‹¤ìŠµ ë‚´ìš©:**
- ë‹¤ì–‘í•œ ì†Œì¼“ ë©”ì†Œë“œ ë™ì‘ í™•ì¸
- ì†Œì¼“ ì˜µì…˜ ì„¤ì • ë° ì¡°íšŒ
- ì£¼ì†Œ íŒ¨ë°€ë¦¬ ë° ì†Œì¼“ íƒ€ì… ì´í•´
- í˜¸ìŠ¤íŠ¸ëª… í•´ì„ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

## ğŸ”§ ì¶”ê°€ í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. í…”ë„·ì„ ì‚¬ìš©í•œ ìˆ˜ë™ í…ŒìŠ¤íŠ¸
```bash
telnet localhost 65432
```
- ì„œë²„ì— ì§ì ‘ ì—°ê²°í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡
- ì„œë²„ ì‘ë‹µ í™•ì¸

### 2. íŒŒì´ì¬ ì¸í„°í”„ë¦¬í„°ì—ì„œ í…ŒìŠ¤íŠ¸
```python
import socket

# í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ ìƒì„±
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect(('localhost', 65432))

# ë©”ì‹œì§€ ì „ì†¡
s.sendall(b'Hello, Server!')

# ì‘ë‹µ ìˆ˜ì‹ 
data = s.recv(1024)
print(f'Received: {data.decode()}')

s.close()
```

### 3. ë„¤íŠ¸ì›Œí¬ ëª¨ë‹ˆí„°ë§
```bash
# í¬íŠ¸ ì‚¬ìš© í˜„í™© í™•ì¸
netstat -an | grep :65432

# í”„ë¡œì„¸ìŠ¤ë³„ í¬íŠ¸ ì‚¬ìš© í™•ì¸
lsof -i :65432
```

## ğŸ¯ ì‹¬í™” ì‹¤ìŠµ ê³¼ì œ

### 1. ì±„íŒ… ì„œë²„ êµ¬í˜„
- ë©€í‹° í´ë¼ì´ì–¸íŠ¸ ì„œë²„ë¥¼ í™•ì¥í•˜ì—¬ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ê¸°ëŠ¥ ì¶”ê°€
- í´ë¼ì´ì–¸íŠ¸ ê°„ ë©”ì‹œì§€ ì¤‘ê³„ ê¸°ëŠ¥ êµ¬í˜„

### 2. íŒŒì¼ ì „ì†¡ ì„œë²„
- ë°”ì´ë„ˆë¦¬ ë°ì´í„° ì „ì†¡ ì²˜ë¦¬
- íŒŒì¼ í¬ê¸° ì •ë³´ ì„ ì „ì†¡ í›„ íŒŒì¼ ë°ì´í„° ì „ì†¡

### 3. HTTP ì„œë²„ êµ¬í˜„
- ê°„ë‹¨í•œ HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬
- ì •ì  íŒŒì¼ ì„œë¹™ ê¸°ëŠ¥

### 4. í”„ë¡œí† ì½œ ì„¤ê³„
- ì‚¬ìš©ì ì •ì˜ í”„ë¡œí† ì½œ êµ¬í˜„
- ë©”ì‹œì§€ í—¤ë” ë° í˜ì´ë¡œë“œ êµ¬ì¡° ì„¤ê³„

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. "Address already in use" ì˜¤ë¥˜
```python
# ì„œë²„ ì†Œì¼“ì— SO_REUSEADDR ì˜µì…˜ ì¶”ê°€
server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
```

### 2. ì—°ê²° íƒ€ì„ì•„ì›ƒ ì˜¤ë¥˜
```python
# í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“ì— íƒ€ì„ì•„ì›ƒ ì„¤ì •
client_socket.settimeout(10.0)  # 10ì´ˆ íƒ€ì„ì•„ì›ƒ
```

### 3. ë°ì´í„° ì¸ì½”ë”© ì˜¤ë¥˜
```python
# ë¬¸ìì—´ â†’ ë°”ì´íŠ¸: encode()
message.encode('utf-8')

# ë°”ì´íŠ¸ â†’ ë¬¸ìì—´: decode()
data.decode('utf-8')
```

## ğŸ“š í•µì‹¬ ê°œë… ìš”ì•½

### TCP vs UDP
| íŠ¹ì§• | TCP | UDP |
|------|-----|-----|
| ì—°ê²° ë°©ì‹ | ì—°ê²° ì§€í–¥ | ì—°ê²° ì—†ìŒ |
| ì‹ ë¢°ì„± | ë†’ìŒ | ë‚®ìŒ |
| ì†ë„ | ëŠë¦¼ | ë¹ ë¦„ |
| ìˆœì„œ ë³´ì¥ | ë³´ì¥ | ë³´ì¥ ì•ˆë¨ |
| ì‚¬ìš© ì˜ˆì‹œ | ì›¹, ì´ë©”ì¼ | ê²Œì„, ìŠ¤íŠ¸ë¦¬ë° |

### ë™ì‹œì„± ì²˜ë¦¬ ë°©ì‹
1. **ë‹¨ì¼ ìŠ¤ë ˆë“œ**: í•œ ë²ˆì— í•˜ë‚˜ì˜ í´ë¼ì´ì–¸íŠ¸ë§Œ ì²˜ë¦¬
2. **ë©€í‹° ìŠ¤ë ˆë“œ**: ê° í´ë¼ì´ì–¸íŠ¸ë¥¼ ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬
3. **ë¹„ë™ê¸°**: ì´ë²¤íŠ¸ ë£¨í”„ ê¸°ë°˜ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë™ì‹œì„±

### ì†Œì¼“ ìƒíƒœ ì „ì´
```
[ìƒì„±] â†’ [ë°”ì¸ë”©] â†’ [ë¦¬ìŠ¤ë‹] â†’ [ìˆ˜ë½] â†’ [ì—°ê²°] â†’ [ë°ì´í„° ì „ì†¡] â†’ [ì¢…ë£Œ]
```

## ğŸ” ì„±ëŠ¥ ë¹„êµ ì‹¤ìŠµ

ê° ì„œë²„ ë°©ì‹ì˜ ì„±ëŠ¥ì„ ë¹„êµí•´ë³´ì„¸ìš”:

1. **ë¶€í•˜ í…ŒìŠ¤íŠ¸**: ë™ì‹œ í´ë¼ì´ì–¸íŠ¸ ìˆ˜ ì¦ê°€ì‹œì¼œ í…ŒìŠ¤íŠ¸
2. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ê° ë°©ì‹ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë¹„êµ
3. **ì‘ë‹µ ì‹œê°„**: í´ë¼ì´ì–¸íŠ¸ ì‘ë‹µ ì‹œê°„ ì¸¡ì •

## ğŸ’¡ ì‹¤ìŠµ íŒ

1. **ë¡œê·¸ ì¶”ê°€**: ê° ë‹¨ê³„ë³„ ë¡œê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ ë™ì‘ ê³¼ì • ì´í•´
2. **ì—ëŸ¬ ì²˜ë¦¬**: ë‹¤ì–‘í•œ ì˜ˆì™¸ ìƒí™©ì— ëŒ€í•œ ì²˜ë¦¬ ì¶”ê°€
3. **ì„¤ì • íŒŒì¼**: í˜¸ìŠ¤íŠ¸, í¬íŠ¸ ë“±ì„ ì„¤ì • íŒŒì¼ë¡œ ë¶„ë¦¬
4. **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ê° ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„± 

---

## ğŸŒ ì›¹ì„œë²„ ì•„í‚¤í…ì²˜ì™€ ìš°ë¦¬ ì‹¤ìŠµ ì½”ë“œ ë¹„êµ

### ğŸ“Œ ë¹„ë™ê¸° TCP ì„œë²„ì™€ ì‹¤ì œ ì›¹ì„œë²„ì˜ ê´€ê³„

**ì§ˆë¬¸**: ìš°ë¦¬ì˜ `async_server.py`ê°€ ì‹¤ì œ ì›¹ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì¸ê°€ìš”?

**ë‹µë³€**: **ë¶€ë¶„ì ìœ¼ë¡œ ë§ìŠµë‹ˆë‹¤!** í˜„ëŒ€ì˜ ê³ ì„±ëŠ¥ ì›¹ì„œë²„ë“¤(Nginx, Node.js)ì€ ìš°ë¦¬ì™€ ë™ì¼í•œ ì´ë²¤íŠ¸ ë£¨í”„ ê¸°ë°˜ ë¹„ë™ê¸° ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

### ğŸ—ï¸ ì£¼ìš” ì›¹ì„œë²„ ì•„í‚¤í…ì²˜ ë¶„ì„

#### **1. Apache HTTP Server - ë‹¤ì¤‘ ì²˜ë¦¬ ëª¨ë“ˆ (MPM)**

##### ğŸ”„ **Prefork MPM** (í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜)
```
Master Process
â”œâ”€â”€ Worker Process 1 â”€â”€ í´ë¼ì´ì–¸íŠ¸ A
â”œâ”€â”€ Worker Process 2 â”€â”€ í´ë¼ì´ì–¸íŠ¸ B  
â”œâ”€â”€ Worker Process 3 â”€â”€ í´ë¼ì´ì–¸íŠ¸ C
â””â”€â”€ Worker Process N â”€â”€ í´ë¼ì´ì–¸íŠ¸ N
```

**íŠ¹ì§• ë° ìš°ë¦¬ ì‹¤ìŠµê³¼ì˜ ê´€ê³„:**
- ê° í´ë¼ì´ì–¸íŠ¸ë§ˆë‹¤ ë³„ë„ì˜ í”„ë¡œì„¸ìŠ¤ ìƒì„±
- ì•ˆì •ì„±ì´ ë†’ì§€ë§Œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ìŒ
- **ìš°ë¦¬ì˜ `server.py`(ë‹¨ì¼ í´ë¼ì´ì–¸íŠ¸)ì™€ ìœ ì‚¬í•œ ê°œë…**

##### ğŸ§µ **Worker MPM** (ìŠ¤ë ˆë“œ ê¸°ë°˜)
```
Master Process
â”œâ”€â”€ Worker Process 1
â”‚   â”œâ”€â”€ Thread 1 â”€â”€ í´ë¼ì´ì–¸íŠ¸ A
â”‚   â”œâ”€â”€ Thread 2 â”€â”€ í´ë¼ì´ì–¸íŠ¸ B
â”‚   â””â”€â”€ Thread N â”€â”€ í´ë¼ì´ì–¸íŠ¸ N
â””â”€â”€ Worker Process 2
    â”œâ”€â”€ Thread 1 â”€â”€ í´ë¼ì´ì–¸íŠ¸ X
    â””â”€â”€ Thread N â”€â”€ í´ë¼ì´ì–¸íŠ¸ Y
```

**íŠ¹ì§• ë° ìš°ë¦¬ ì‹¤ìŠµê³¼ì˜ ê´€ê³„:**
- í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ë‹¤ì¤‘ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬
- **ìš°ë¦¬ì˜ `multi_client_server.py`ì™€ ë™ì¼í•œ ë°©ì‹!** âœ…

##### âš¡ **Event MPM** (ì´ë²¤íŠ¸ ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ)
```
Master Process
â”œâ”€â”€ Worker Process 1 (Event Loop)
â”‚   â”œâ”€â”€ Keep-Alive ì—°ê²°ë“¤ (ì´ë²¤íŠ¸ ì²˜ë¦¬)
â”‚   â””â”€â”€ Thread Pool â”€â”€ ì‹¤ì œ ìš”ì²­ ì²˜ë¦¬
â””â”€â”€ Worker Process 2 (Event Loop)
    â”œâ”€â”€ Keep-Alive ì—°ê²°ë“¤
    â””â”€â”€ Thread Pool
```

**íŠ¹ì§• ë° ìš°ë¦¬ ì‹¤ìŠµê³¼ì˜ ê´€ê³„:**
- **ìš°ë¦¬ì˜ `async_server.py`ì™€ ë§¤ìš° ìœ ì‚¬!** âœ…
- Keep-Alive ì—°ê²°ì€ ì´ë²¤íŠ¸ ë£¨í”„ë¡œ ì²˜ë¦¬
- ì‹¤ì œ ìš”ì²­ ì²˜ë¦¬ëŠ” ìŠ¤ë ˆë“œ í’€ ì‚¬ìš©

#### **2. Nginx - ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜**

```
Master Process
â”œâ”€â”€ Worker Process 1 (Event Loop)
â”œâ”€â”€ Worker Process 2 (Event Loop) 
â”œâ”€â”€ Worker Process 3 (Event Loop)
â””â”€â”€ Worker Process N (Event Loop)
```

**íŠ¹ì§• ë° ìš°ë¦¬ ì‹¤ìŠµê³¼ì˜ ê´€ê³„:**
- **ìš°ë¦¬ì˜ `async_server.py`ì™€ ê±°ì˜ ë™ì¼í•œ íŒ¨í„´!** âœ…
- ê° ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ê°€ ì´ë²¤íŠ¸ ë£¨í”„ ì‹¤í–‰
- ë¹„ë™ê¸° I/Oë¡œ ìˆ˜ì²œ ê°œì˜ ë™ì‹œ ì—°ê²° ì²˜ë¦¬
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë§¤ìš° ì ìŒ

#### **3. Node.js - ë‹¨ì¼ ìŠ¤ë ˆë“œ ì´ë²¤íŠ¸ ë£¨í”„**

```
Main Thread (Event Loop)
â”œâ”€â”€ í´ë¼ì´ì–¸íŠ¸ A (ë¹„ë™ê¸° ì²˜ë¦¬)
â”œâ”€â”€ í´ë¼ì´ì–¸íŠ¸ B (ë¹„ë™ê¸° ì²˜ë¦¬)
â”œâ”€â”€ í´ë¼ì´ì–¸íŠ¸ C (ë¹„ë™ê¸° ì²˜ë¦¬)
â””â”€â”€ Thread Pool (I/O ì‘ì—…ìš©)
```

**íŠ¹ì§• ë° ìš°ë¦¬ ì‹¤ìŠµê³¼ì˜ ê´€ê³„:**
- **ìš°ë¦¬ì˜ `async_server.py`ì™€ ê±°ì˜ ë™ì¼í•œ íŒ¨í„´!** âœ…
- ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬
- libuv ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

### ğŸ“Š ì„±ëŠ¥ ë° íŠ¹ì„± ë¹„êµ

| ì•„í‚¤í…ì²˜ | ë™ì‹œ ì—°ê²° | ë©”ëª¨ë¦¬ ì‚¬ìš© | CPU ì‚¬ìš© | ìš°ë¦¬ ì‹¤ìŠµ íŒŒì¼ |
|----------|-----------|-------------|----------|---------------|
| **í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜** | ë‚®ìŒ (~1K) | ë†’ìŒ | ë†’ìŒ | `server.py` |
| **ìŠ¤ë ˆë“œ ê¸°ë°˜** | ì¤‘ê°„ (~5K) | ì¤‘ê°„ | ì¤‘ê°„ | `multi_client_server.py` |
| **ì´ë²¤íŠ¸ ê¸°ë°˜** | ë†’ìŒ (~10K+) | ë‚®ìŒ | ë‚®ìŒ | **`async_server.py`** âœ… |

### ğŸ” ì½”ë“œ ë ˆë²¨ ë¹„êµ

#### **ìš°ë¦¬ì˜ `async_server.py`:**
```python
async def handle_client(reader, writer):
    while True:
        data = await reader.read(1024)  # ë¹„ë™ê¸° I/O
        # ì—ì½” ì²˜ë¦¬
        writer.write(response.encode('utf-8'))
        await writer.drain()
```

#### **Nginxì˜ ì‹¤ì œ êµ¬ì¡° (ê°œë…ì  ìœ ì‚¬ì„±):**
```c
// Nginx ì´ë²¤íŠ¸ ë£¨í”„ (ë‹¨ìˆœí™”)
while (1) {
    epoll_wait(epfd, events, maxevents, timeout);  // ì´ë²¤íŠ¸ ëŒ€ê¸°
    
    for (ê° ì´ë²¤íŠ¸) {
        if (ì½ê¸° ê°€ëŠ¥) {
            parse_http_request();     // HTTP íŒŒì‹±
            serve_static_file();      // íŒŒì¼ ì„œë¹™
        }
        if (ì“°ê¸° ê°€ëŠ¥) {
            send_http_response();     // HTTP ì‘ë‹µ
        }
    }
}
```

#### **Node.js HTTP ì„œë²„:**
```javascript
const server = http.createServer(async (req, res) => {
    // ìš°ë¦¬ì˜ handle_clientì™€ ìœ ì‚¬í•œ ë¹„ë™ê¸° ì²˜ë¦¬
    const data = await processRequest(req);
    res.end(data);
});
```

### ğŸ¯ ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œì˜ ì‚¬ìš©

#### **ìš°ë¦¬ì˜ ë¹„ë™ê¸° ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ë“¤:**
- **Nginx**: ì„¸ê³„ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì›¹ì„œë²„
- **Node.js**: JavaScript ëŸ°íƒ€ì„ í™˜ê²½
- **Python uvicorn**: FastAPI ë“± ASGI ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„
- **Go HTTP ì„œë²„**: ê³ ë£¨í‹´ ê¸°ë°˜ ë™ì‹œì„±

#### **ì „í†µì ì¸ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ì›¹ì„œë²„ë“¤:**
- **Apache with PHP**: WordPress ë“± ëŒ€ë¶€ë¶„ì˜ PHP ì‚¬ì´íŠ¸
- **IIS**: Windows ê¸°ë°˜ ì›¹ì„œë²„
- **Tomcat**: Java ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„

### ğŸ’¡ ì‹¤ì œ ì›¹ì„œë²„ì™€ì˜ ì°¨ì´ì 

#### **ìš°ë¦¬ ì½”ë“œê°€ ê°€ì§„ ê²ƒ:**
- âœ… **ì´ë²¤íŠ¸ ë£¨í”„ ê¸°ë°˜ ë¹„ë™ê¸° I/O** (í•µì‹¬!)
- âœ… **ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ ëŠ¥ë ¥**
- âœ… **ë‚®ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**
- âœ… **í˜„ëŒ€ ì›¹ì„œë²„ì™€ ë™ì¼í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´**

#### **ì‹¤ì œ ì›¹ì„œë²„ê°€ ì¶”ê°€ë¡œ ê°€ì§„ ê²ƒ:**
- HTTP í”„ë¡œí† ì½œ íŒŒì‹± (`GET /index.html HTTP/1.1`)
- ì •ì  íŒŒì¼ ì„œë¹™ (HTML, CSS, JS íŒŒì¼)
- ê°€ìƒ í˜¸ìŠ¤íŠ¸, SSL/TLS, ì••ì¶•, ìºì‹±
- ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ, ë¡œë“œ ë°¸ëŸ°ì‹±
- ë³´ì•ˆ, ì¸ì¦, ë¡œê¹…, ë¯¸ë“¤ì›¨ì–´

### ğŸš€ ì‹¤ìŠµìœ¼ë¡œ ì„±ëŠ¥ í™•ì¸í•˜ê¸°

#### **ë¹„ë™ê¸° ì„œë²„ ë™ì‹œ ì—°ê²° í…ŒìŠ¤íŠ¸:**
```bash
# í„°ë¯¸ë„ 1: ë¹„ë™ê¸° ì„œë²„ ì‹¤í–‰
python async_server.py

# í„°ë¯¸ë„ 2: ë™ì‹œ ì—°ê²° í…ŒìŠ¤íŠ¸
for i in {1..100}; do
    echo "Client $i" | nc localhost 65434 &
done
```

#### **ê° ì„œë²„ ë°©ì‹ë³„ ì„±ëŠ¥ ë¹„êµ:**
```bash
# 1. ë‹¨ì¼ í´ë¼ì´ì–¸íŠ¸ ì„œë²„
python server.py
# â†’ í•œ ë²ˆì— í•˜ë‚˜ì˜ í´ë¼ì´ì–¸íŠ¸ë§Œ ì²˜ë¦¬

# 2. ë©€í‹° ìŠ¤ë ˆë“œ ì„œë²„  
python multi_client_server.py
# â†’ ìŠ¤ë ˆë“œ ìˆ˜ë§Œí¼ ë™ì‹œ ì²˜ë¦¬

# 3. ë¹„ë™ê¸° ì„œë²„
python async_server.py
# â†’ ìˆ˜ì²œ ê°œì˜ ë™ì‹œ ì—°ê²° ì²˜ë¦¬ ê°€ëŠ¥
```

### âœ… ê²°ë¡ 

**ìš°ë¦¬ì˜ `async_server.py`ëŠ” í˜„ëŒ€ ê³ ì„±ëŠ¥ ì›¹ì„œë²„ì˜ í•µì‹¬ ì•„í‚¤í…ì²˜ë¥¼ ì •í™•íˆ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤!**

1. **Nginx, Node.jsì™€ ë™ì¼í•œ ì´ë²¤íŠ¸ ë£¨í”„ ë°©ì‹**
2. **ë†’ì€ ë™ì‹œì„±ê³¼ ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰**
3. **ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´**

### ğŸ“š ì¶”ê°€ í•™ìŠµ ë°©í–¥

ì‹¤ìŠµ ì½”ë“œë¥¼ ë” ë°œì „ì‹œí‚¤ê³  ì‹¶ë‹¤ë©´:

1. **HTTP ì„œë²„ êµ¬í˜„**: `async_server.py`ì— HTTP í”„ë¡œí† ì½œ íŒŒì‹± ì¶”ê°€
2. **ì •ì  íŒŒì¼ ì„œë¹™**: HTML, CSS, JS íŒŒì¼ ì„œë¹™ ê¸°ëŠ¥
3. **ë¯¸ë“¤ì›¨ì–´ íŒ¨í„´**: ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ ì²´ì¸ êµ¬í˜„
4. **ì›¹ì†Œì¼“ ì§€ì›**: ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹  êµ¬í˜„
5. **ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ**: ë°±ì—”ë“œ ì„œë²„ë¡œ ìš”ì²­ ì „ë‹¬

**ìš°ë¦¬ ì½”ë“œëŠ” ì´ëŸ¬í•œ ê³ ì„±ëŠ¥ ì›¹ì„œë²„ë“¤ì˜ "ì‹¬ì¥ë¶€"ë¥¼ í•™ìŠµí•˜ê¸°ì— ì™„ë²½í•œ ì˜ˆì œì…ë‹ˆë‹¤!** ğŸ‰

## ğŸ¯ ì›¹ ê°œë°œìë¥¼ ìœ„í•œ ì†Œì¼“ ê¸°ë°˜ ì¶”ê°€ í•™ìŠµ ë°©í–¥

í˜„ì¬ í”„ë¡œì íŠ¸ì˜ `async_server.py`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê° ë°©í–¥ì„ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

### 1. **HTTP ì„œë²„ êµ¬í˜„** ğŸ“¡

#### **í˜„ì¬ ìƒíƒœ:**
```python
# async_server.py - ë‹¨ìˆœ ì—ì½” ì„œë²„
data = await reader.read(1024)
response = f"Async Echo: {message}"
writer.write(response.encode('utf-8'))
```

#### **HTTP í”„ë¡œí† ì½œ íŒŒì‹± ì¶”ê°€:**
```python
async def handle_http_client(reader, writer):
    # HTTP ìš”ì²­ íŒŒì‹±
    request_line = await reader.readline()
    request_line = request_line.decode('utf-8').strip()
    
    # GET /index.html HTTP/1.1 íŒŒì‹±
    method, path, version = request_line.split()
    
    # í—¤ë” íŒŒì‹±
    headers = {}
    while True:
        line = await reader.readline()
        if line == b'\r\n':
            break
        key, value = line.decode('utf-8').split(':', 1)
        headers[key.strip()] = value.strip()
    
    # HTTP ì‘ë‹µ ìƒì„±
    response = f"""HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: {len(html_content)}

{html_content}"""
    
    writer.write(response.encode('utf-8'))
    await writer.drain()
```

**í•™ìŠµ í¬ì¸íŠ¸:**
- HTTP ìš”ì²­/ì‘ë‹µ êµ¬ì¡° ì´í•´
- í”„ë¡œí† ì½œ íŒŒì‹± ë¡œì§ êµ¬í˜„
- ìƒíƒœ ì½”ë“œ, í—¤ë” ì²˜ë¦¬

### 2. **ì •ì  íŒŒì¼ ì„œë¹™** ğŸ“

#### **íŒŒì¼ ì‹œìŠ¤í…œ ì—°ë™:**
```python
import os
import mimetypes

async def serve_static_file(path):
    # ë³´ì•ˆ: ê²½ë¡œ ê²€ì¦
    if '..' in path or path.startswith('/'):
        return create_404_response()
    
    file_path = os.path.join('static', path)
    
    # íŒŒì¼ ì¡´ì¬ í™•ì¸
    if not os.path.exists(file_path):
        return create_404_response()
    
    # MIME íƒ€ì… ê²°ì •
    mime_type, _ = mimetypes.guess_type(file_path)
    if mime_type is None:
        mime_type = 'application/octet-stream'
    
    # íŒŒì¼ ì½ê¸°
    with open(file_path, 'rb') as f:
        content = f.read()
    
    # HTTP ì‘ë‹µ ìƒì„±
    response = f"""HTTP/1.1 200 OK
Content-Type: {mime_type}
Content-Length: {len(content)}

""".encode('utf-8') + content
    
    return response
```

**í•™ìŠµ í¬ì¸íŠ¸:**
- íŒŒì¼ ì‹œìŠ¤í…œ ë³´ì•ˆ (ë””ë ‰í† ë¦¬ íŠ¸ë˜ë²„ì„¤ ë°©ì§€)
- MIME íƒ€ì… ì²˜ë¦¬
- ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì²˜ë¦¬

### 3. **ë¯¸ë“¤ì›¨ì–´ íŒ¨í„´** ğŸ”„

#### **ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ ì²´ì¸:**
```python
class Middleware:
    def __init__(self, app):
        self.app = app
    
    async def __call__(self, request, response):
        # ì „ì²˜ë¦¬
        await self.before_request(request)
        
        # ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´/í•¸ë“¤ëŸ¬ í˜¸ì¶œ
        await self.app(request, response)
        
        # í›„ì²˜ë¦¬
        await self.after_request(request, response)

class LoggingMiddleware(Middleware):
    async def before_request(self, request):
        print(f"[{datetime.now()}] {request.method} {request.path}")
    
    async def after_request(self, request, response):
        print(f"[{datetime.now()}] Response: {response.status_code}")

class AuthMiddleware(Middleware):
    async def before_request(self, request):
        if request.path.startswith('/admin'):
            if not self.is_authenticated(request):
                raise UnauthorizedError()

# ë¯¸ë“¤ì›¨ì–´ ì²´ì¸ êµ¬ì„±
app = LoggingMiddleware(
    AuthMiddleware(
        StaticFileHandler(
            RouteHandler()
        )
    )
)
```

**í•™ìŠµ í¬ì¸íŠ¸:**
- ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (ë¡œê¹…, ì¸ì¦, ë¼ìš°íŒ…)
- ì²´ì¸ ì˜¤ë¸Œ ë¦¬ìŠ¤í°ì‹œë¹Œë¦¬í‹° íŒ¨í„´
- í¬ë¡œìŠ¤ ì»¤íŒ… ê´€ì‹¬ì‚¬ ì²˜ë¦¬

### 4. **ì›¹ì†Œì¼“ ì§€ì›** ğŸ”„

#### **ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ :**
```python
import hashlib
import base64

async def handle_websocket(reader, writer):
    # ì›¹ì†Œì¼“ í•¸ë“œì…°ì´í¬
    request_headers = await parse_http_headers(reader)
    
    # Sec-WebSocket-Key ì²˜ë¦¬
    websocket_key = request_headers.get('Sec-WebSocket-Key')
    accept_key = create_websocket_accept_key(websocket_key)
    
    # í•¸ë“œì…°ì´í¬ ì‘ë‹µ
    response = f"""HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: {accept_key}

"""
    writer.write(response.encode('utf-8'))
    await writer.drain()
    
    # ì›¹ì†Œì¼“ í”„ë ˆì„ ì²˜ë¦¬
    while True:
        frame = await read_websocket_frame(reader)
        if frame.opcode == 0x8:  # Close frame
            break
        elif frame.opcode == 0x1:  # Text frame
            # ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë˜ëŠ” ê°œë³„ ì‘ë‹µ
            await broadcast_message(frame.payload)

def create_websocket_accept_key(key):
    WEBSOCKET_MAGIC = '258EAFA5-E914-47DA-95CA-C5AB0DC85B11'
    return base64.b64encode(
        hashlib.sha1((key + WEBSOCKET_MAGIC).encode()).digest()
    ).decode()
```

**í•™ìŠµ í¬ì¸íŠ¸:**
- í”„ë¡œí† ì½œ ì—…ê·¸ë ˆì´ë“œ í•¸ë“œì…°ì´í¬
- ì›¹ì†Œì¼“ í”„ë ˆì„ êµ¬ì¡° ì´í•´
- ì‹¤ì‹œê°„ ë©”ì‹œì§• ì‹œìŠ¤í…œ

### 5. **ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ** ğŸ”„

#### **ë°±ì—”ë“œ ì„œë²„ë¡œ ìš”ì²­ ì „ë‹¬:**
```python
async def handle_proxy_request(reader, writer):
    # í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ íŒŒì‹±
    request = await parse_http_request(reader)
    
    # ë¡œë“œ ë°¸ëŸ°ì‹±: ë°±ì—”ë“œ ì„œë²„ ì„ íƒ
    backend_server = select_backend_server()
    
    # ë°±ì—”ë“œ ì„œë²„ë¡œ ì—°ê²°
    backend_reader, backend_writer = await asyncio.open_connection(
        backend_server['host'], backend_server['port']
    )
    
    # ìš”ì²­ ì „ë‹¬
    backend_writer.write(request.to_bytes())
    await backend_writer.drain()
    
    # ì‘ë‹µ ë°›ê¸°
    response = await backend_reader.read(4096)
    
    # í´ë¼ì´ì–¸íŠ¸ë¡œ ì‘ë‹µ ì „ë‹¬
    writer.write(response)
    await writer.drain()
    
    # ì—°ê²° ì •ë¦¬
    backend_writer.close()
    await backend_writer.wait_closed()

def select_backend_server():
    # ë¼ìš´ë“œ ë¡œë¹ˆ, ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë“± ë¡œë“œ ë°¸ëŸ°ì‹± ë¡œì§
    backends = [
        {'host': 'localhost', 'port': 8001},
        {'host': 'localhost', 'port': 8002},
        {'host': 'localhost', 'port': 8003}
    ]
    return backends[get_next_backend_index()]
```

**í•™ìŠµ í¬ì¸íŠ¸:**
- í”„ë¡ì‹œ ì„œë²„ êµ¬ì¡° ì´í•´
- ë¡œë“œ ë°¸ëŸ°ì‹± ì•Œê³ ë¦¬ì¦˜
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

## ğŸ¯ ì‹¤ì œ êµ¬í˜„ ìˆœì„œ ì¶”ì²œ

### **1ë‹¨ê³„: HTTP ì„œë²„**
```python
# async_http_server.py
async def handle_http_client(reader, writer):
    # HTTP ìš”ì²­ íŒŒì‹± + ê°„ë‹¨í•œ ì‘ë‹µ
```

### **2ë‹¨ê³„: ì •ì  íŒŒì¼ ì„œë¹™**
```python
# static/ ë””ë ‰í† ë¦¬ ìƒì„±
# HTML, CSS, JS íŒŒì¼ ì„œë¹™
```

### **3ë‹¨ê³„: ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€**
```python
# ë¡œê¹…, ì¸ì¦, ë¼ìš°íŒ… ë¯¸ë“¤ì›¨ì–´
```

### **4ë‹¨ê³„: ì›¹ì†Œì¼“ ì§€ì›**
```python
# ì‹¤ì‹œê°„ ì±„íŒ… ì„œë²„ êµ¬í˜„
```

### **5ë‹¨ê³„: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ**
```python
# ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹ 
```

## ğŸ“Š ì‹¤ì œ í”„ë¡œë•ì…˜ê³¼ì˜ ì—°ê²°

| í•™ìŠµ ë°©í–¥ | ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ |
|-----------|----------------|
| **HTTP ì„œë²„** | Nginx, Apacheì˜ HTTP íŒŒì‹± ì—”ì§„ |
| **ì •ì  íŒŒì¼** | CDN, ì›¹ì„œë²„ì˜ íŒŒì¼ ì„œë¹™ |
| **ë¯¸ë“¤ì›¨ì–´** | Express.js, Django, Flask ë¯¸ë“¤ì›¨ì–´ |
| **ì›¹ì†Œì¼“** | Socket.IO, ì‹¤ì‹œê°„ ì±„íŒ…, ê²Œì„ ì„œë²„ |
| **ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ** | Nginx, HAProxy, ë¡œë“œ ë°¸ëŸ°ì„œ |

## ğŸš€ ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì•„ì´ë””ì–´

### **ì´ˆê¸‰ í”„ë¡œì íŠ¸**
1. **ê°„ë‹¨í•œ HTTP ì„œë²„**: GET ìš”ì²­ ì²˜ë¦¬ + HTML ì‘ë‹µ
2. **ì •ì  íŒŒì¼ ì„œë²„**: ì´ë¯¸ì§€, CSS, JS íŒŒì¼ ì„œë¹™
3. **ì—ì½” ì±—ë´‡**: ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ ì‘ë‹µ ì„œë²„

### **ì¤‘ê¸‰ í”„ë¡œì íŠ¸**
1. **RESTful API ì„œë²„**: JSON ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬
2. **ì‹¤ì‹œê°„ ì±„íŒ…**: ì›¹ì†Œì¼“ ê¸°ë°˜ ê·¸ë£¹ ì±„íŒ…
3. **íŒŒì¼ ì—…ë¡œë“œ ì„œë²„**: ë©€í‹°íŒŒíŠ¸ í¼ ë°ì´í„° ì²˜ë¦¬

### **ê³ ê¸‰ í”„ë¡œì íŠ¸**
1. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê²Œì´íŠ¸ì›¨ì´**: ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ë¼ìš°íŒ…
2. **ìŠ¤íŠ¸ë¦¬ë° ì„œë²„**: ëŒ€ìš©ëŸ‰ íŒŒì¼ ìŠ¤íŠ¸ë¦¬ë°
3. **ë¡œë“œ ë°¸ëŸ°ì„œ**: ì—¬ëŸ¬ ë°±ì—”ë“œ ì„œë²„ ê°„ ë¶€í•˜ ë¶„ì‚°

## ğŸ’¡ ê°œë°œ ë„êµ¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

### **ì„±ëŠ¥ ì¸¡ì • ë„êµ¬**
```bash
# ë¶€í•˜ í…ŒìŠ¤íŠ¸
ab -n 1000 -c 10 http://localhost:8000/

# ì—°ê²° ëª¨ë‹ˆí„°ë§
netstat -an | grep :8000

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
ps aux | grep python
```

### **ìœ ìš©í•œ Python ë¼ì´ë¸ŒëŸ¬ë¦¬**
```python
# HTTP íŒŒì‹±
import http.server
import urllib.parse

# ë¹„ë™ê¸° HTTP í´ë¼ì´ì–¸íŠ¸
import aiohttp

# ì›¹ì†Œì¼“ ë¼ì´ë¸ŒëŸ¬ë¦¬
import websockets

# ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§
import cProfile
import asyncio
```

## ğŸ“ í•™ìŠµ ëª©í‘œ ë° ì„±ê³¼

### **í•µì‹¬ í•™ìŠµ ëª©í‘œ**
1. **ì†Œì¼“ í”„ë¡œê·¸ë˜ë° ë§ˆìŠ¤í„°**: TCP/UDP ì†Œì¼“ ì™„ì „ ì´í•´
2. **ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°**: ì´ë²¤íŠ¸ ë£¨í”„ì™€ ì½”ë£¨í‹´ í™œìš©
3. **ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ**: HTTP, WebSocket í”„ë¡œí† ì½œ êµ¬í˜„
4. **ì„œë²„ ì•„í‚¤í…ì²˜**: í™•ì¥ ê°€ëŠ¥í•œ ì„œë²„ ì„¤ê³„ íŒ¨í„´
5. **ì„±ëŠ¥ ìµœì í™”**: ë™ì‹œì„±ê³¼ ì²˜ë¦¬ëŸ‰ ìµœì í™”

### **ê¸°ëŒ€ ì„±ê³¼**
- **ì›¹ í”„ë ˆì„ì›Œí¬ ë‚´ë¶€ ë™ì‘ ì›ë¦¬ ì™„ì „ ì´í•´**
- **ê³ ì„±ëŠ¥ ì„œë²„ ì•„í‚¤í…ì²˜ ì„¤ê³„ ëŠ¥ë ¥ í™•ë³´**
- **ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ì—­ëŸ‰ í–¥ìƒ**
- **ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ ê°•í™”**

**ì´ í•™ìŠµ ê³¼ì •ì„ í†µí•´ Nginx, Node.js, Django, Flask ë“±ì˜ ë‚´ë¶€ ë™ì‘ ì›ë¦¬ë¥¼ ì™„ì „íˆ ì´í•´í•˜ê³ , ë‚˜ë§Œì˜ ì›¹ì„œë²„ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤!** ğŸš€